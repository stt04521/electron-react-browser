<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8" />
    <title>HTML Preview(markdown to html) - Editor.md examples</title>

    <link rel="stylesheet" href="./css/editormd.css" />
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="../../editormd.preview.css" />
    <link rel="stylesheet" href="../css1/layui.css" />

    <link rel="shortcut icon" href="https://pandao.github.io/editor.md/favicon.ico" type="image/x-icon" />
    <style>
        .editormd-html-preview {
            width: 90%;
            margin: 0 auto;
        }
        .on{color: red;}
        .parent{cursor: pointer;}
        li>ul{margin-left: 12px;padding-bottom: -5px;}
        ul>li{margin-bottom: 10px;}

    </style>
</head>
<body>
<div style="width:900px;height:50px;background-color: #333333;">
  <div style="float:left;">
    <div style="color: #ffffff;display:inline-block;margin-right: 26px;margin-top: 14px;margin-left:21px;font-size:16px" >文件名称.md</div>
    <div style="color: #ffffff;display:inline-block;font-size:16px" onclick="location.href='./index1.html#treelist';">查阅源码</div>
  </div>
    <div style="clear:both;"></div>
</div>
<div class="treelist" id="treelist" style="float:left;margin-top: 16px;width:145px;">
    <!--<ul id="createNode" class='ulclass'>-->
    <ul  id="demo1">

  </ul>
</div>
<div id="test-editormd" style="text-align:center"></div>
<div  style="border:1px solid #F0F8FF;overflow-y: scroll;height:450px;width:712px;margin-left: 112px;">
    <!--<header>-->
        <!--<h1>Markdown转HTML的显示处理</h1>-->
        <!--<p>即：非编辑情况下的HTML预览</p>-->
        <!--<p>HTML Preview(markdown to html)</p>-->
    <!--</header>-->
    <!--<div class="btns">-->

    <!--</div>-->
    <div id="test-editormd-view">
        <textarea style="display:none;" name="test-editormd-markdown-doc">###Hello world!</textarea>
    </div>
    <div id="test-editormd-view2">
                <textarea id="append-test" style="display:none;">

###科学公式 TeX(KaTeX)

$$E=mc^2$$

行内的公式$$E=mc^2$$行内的公式，行内的$$E=mc^2$$公式。

$$\(\sqrt{3x-1}+(1+x)^2\)$$

$$\sin(\alpha)^{\theta}=\sum_{i=0}^{n}(x^i + \cos(f))$$

$$X^2 > Y$$

#####上标和下标

上标：X&lt;sup&gt;2&lt;/sup&gt;

下标：O&lt;sub&gt;2&lt;/sub&gt;

##### 代码块里包含的过滤标签及属性不会被过滤

```html
&lt;style type="text/style"&gt;
body{background:red;}
&lt;/style&gt;

&lt;script type="text/javscript"&gt;
alert("script");
&lt;/script&gt;

&lt;iframe height=498 width=510 src="http://player.youku.com/embed/XMzA0MzIwMDgw" frameborder=0 allowfullscreen&gt;&lt;/iframe&gt;
```

#####Style

&lt;style&gt;
body{background:red;}
&lt;/style&gt;

&lt;style type="text/style"&gt;
body{background:red;}
&lt;/style&gt;

#####Script

&lt;script&gt;
alert("script");
&lt;/script&gt;

&lt;script type="text/javscript"&gt;
alert("script");
&lt;/script&gt;</textarea>
    </div>
</div>
</div>
</div>
<!-- <script src="js/zepto.min.js"></script>
<script>
    var jQuery = Zepto;  // 为了避免修改flowChart.js和sequence-diagram.js的源码，所以使用Zepto.js时想支持flowChart/sequenceDiagram就得加上这一句
</script> -->
<script src="./js/jquery.min.js"></script>
<script>if (typeof module === 'object') {window.jQuery = window.$ = module.exports;};</script>
<script src="./lib/marked.min.js"></script>
<script src="./lib/prettify.min.js"></script>

<script src="./lib/raphael.min.js"></script>
<script src="./lib/underscore.min.js"></script>
<script src="./lib/sequence-diagram.min.js"></script>
<script src="./lib/flowchart.min.js"></script>
<script src="./lib/jquery.flowchart.min.js"></script>
<script src="../../layui.all.js"></script>
<script src="./js/editormd.js"></script>
<script>
    let mockData = [
        {
            id:2111,
            content:'这些数据自己造吧211111'
        },
        {
            id:2112,
            content:'这些数据自己造吧211112'
        },
        {
            id:2113,
            content:'这些数据自己造吧211113'
        },

    ],
    view = document.getElementById('test-editormd-view');

    layui.use(['tree', 'layer'], function() {
        var layer = layui.layer
            , $ = layui.jquery;

        layui.tree({
            elem: '#demo1' //指定元素
            , target: '_blank' //是否新选项卡打开（比如节点返回href才有效）
            , click: function (sitem) { //点击节点回调
//                layer.msg('当前节名称：' + item.name + '<br>全部参数：' + JSON.stringify(item));
                console.log(sitem);
               if(sitem.id >= 2111 && sitem.id<= 2113){//这样写只是为了确定你要点击的那三个的范围 就是qq邮箱的那三个

                    mockData.forEach( (item) => {
                        if( item.id == sitem.id ){
                            view.innerText = item.content;
                            return;
                        }
                    } )

               }
            }
            , nodes: [ //节点
                {
                    name: 'Get value'
                    , id: 1
                    , alias: 'changyong'
                    , children: [
                    {
                        name: '所有未读（设置跳转）'
                        , id: 11
                        , alias: 'weidu'
                    }, {
                        name: '置顶邮件'
                        , id: 12
                    }, {
                        name: '标签邮件'
                        , id: 13
                    }
                ]
                }, {
                    name: '我的邮箱'
                    , id: 2
                    , spread: true
                    , children: [
                        {
                            name: 'QQ邮箱'
                            , id: 21
                            , spread: true
                            , children: [
                            {
                                name: '收件箱'
                                , id: 211
                                , children: [
                                {
                                    name: '所有未读'
                                    , id: 2111
                                }, {
                                    name: '置顶邮件'
                                    , id: 2112
                                }, {
                                    name: '标签邮件'
                                    , id: 2113
                                }
                            ]
                            }, {
                                name: '已发出的邮件'
                                , id: 212
                            }, {
                                name: '垃圾邮件'
                                , id: 213
                            }
                        ]
                        }, {
                            name: '阿里云邮'
                            , id: 22
                            , children: [
                                {
                                    name: '收件箱'
                                    , id: 221
                                }, {
                                    name: '已发出的邮件'
                                    , id: 222
                                }, {
                                    name: '垃圾邮件'
                                    , id: 223
                                }
                            ]
                        }
                    ]
                }
                , {
                    name: '收藏夹'
                    , id: 3
                    , alias: 'changyong'
                    , children: [
                        {
                            name: '爱情动作片'
                            , id: 31
                            , alias: 'love'
                        }, {
                            name: '技术栈'
                            , id: 12
                            , children: [
                                {
                                    name: '前端'
                                    , id: 121
                                }
                                , {
                                    name: '全端'
                                    , id: 122
                                }
                            ]
                        }
                    ]
                }
            ]
        });
    })
</script>

<script type="text/javascript">

    $(function() {
        var testEditormdView, testEditormdView2;
        var testEditor;
        $.get("test.md", function(markdown) {

            testEditormdView = editormd.markdownToHTML("test-editormd-view", {
                markdown        : markdown ,//+ "\r\n" + $("#append-test").text(),
                //htmlDecode      : true,       // 开启 HTML 标签解析，为了安全性，默认不开启
                htmlDecode      : "style,script,iframe",  // you can filter tags decode
                //toc             : false,
                tocm            : true,    // Using [TOCM]
                //tocContainer    : "#custom-toc-container", // 自定义 ToC 容器层
                //gfm             : false,
                //tocDropdown     : true,
                // markdownSourceCode : true, // 是否保留 Markdown 源码，即是否删除保存源码的 Textarea 标签
                emoji           : true,
                taskList        : true,
                tex             : true,  // 默认不解析
                flowChart       : true,  // 默认不解析
                sequenceDiagram : true,  // 默认不解析
            });

            //console.log("返回一个 jQuery 实例 =>", testEditormdView);

            // 获取Markdown源码
            //console.log(testEditormdView.getMarkdown());

            //alert(testEditormdView.getMarkdown());
        });

       testEditormdView2 = editormd.markdownToHTML("test-editormd-view2", {
           htmlDecode      : "style,script,iframe",  // you can filter tags decode
           emoji           : true,
          taskList        : true,
            tex             : true,  // 默认不解析
            flowChart       : true,  // 默认不解析
            sequenceDiagram : true,  // 默认不解析
       });

    });
    $("#watch-btn").bind('click', function() {
        testEditor.watch();
    });
</script>
</body>
</html>